# üî• Streak –°–∏—Å—Ç–µ–º–∞ (–ì–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—è)

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø–æ–ª–Ω–∞—è streak —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –º–æ—Ç–∏–≤–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —á–µ—Ä–µ–∑ –≥–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—é –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É Duolingo.

### 1. **SQL –ú–∏–≥—Ä–∞—Ü–∏—è** (`supabase/migration/add_streak_system.sql`)

#### –ù–æ–≤—ã–µ –ø–æ–ª—è –≤ —Ç–∞–±–ª–∏—Ü–µ `users`:
- `current_streak` - —Ç–µ–∫—É—â–∞—è —Å–µ—Ä–∏—è –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥
- `longest_streak` - –ª—É—á—à–∞—è —Å–µ—Ä–∏—è –∑–∞ –≤—Å–µ –≤—Ä–µ–º—è
- `last_log_date` - –¥–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- `total_logs_count` - –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–æ–≥–æ–≤

#### –ù–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ `user_achievements`:
–•—Ä–∞–Ω–∏—Ç –±–µ–π–¥–∂–∏ –∏ –Ω–∞–≥—Ä–∞–¥—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
- ü•â **–ë—Ä–æ–Ω–∑–æ–≤—ã–π** - 3 –¥–Ω—è –ø–æ–¥—Ä—è–¥
- ü•à **–°–µ—Ä–µ–±—Ä—è–Ω—ã–π** - 7 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥
- ü•á **–ó–æ–ª–æ—Ç–æ–π** - 14 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥
- üíé **Diamond** - 30 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥
- üèÜ **–õ–µ–≥–µ–Ω–¥–∞** - 100 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥

#### –§—É–Ω–∫—Ü–∏–∏:
```sql
-- –û–±–Ω–æ–≤–ª—è–µ—Ç streak –ø—Ä–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–∏ –µ–¥—ã
update_user_streak(p_user_id BIGINT)

-- –ü–æ–ª—É—á–∞–µ—Ç –ø–æ–ª–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É streak –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
get_user_streak_stats(p_user_id BIGINT)
```

#### VIEW:
```sql
-- –¢–æ–ø-100 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ streak
streak_leaderboard
```

---

### 2. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –∫–æ–¥ –±–æ—Ç–∞** (`telegram-bot/index.ts`)

#### –ú–µ—Å—Ç–æ 1: –û–±—ã—á–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –µ–¥—ã (—Å—Ç—Ä–æ–∫–∞ ~2949)
–ü–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∑–∞–ø–∏—Å–∏ –≤ `food_logs`:
```typescript
// üî• STREAK SYSTEM: –û–±–Ω–æ–≤–ª—è–µ–º streak –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
const { data: streakData } = await supabase
  .rpc('update_user_streak', { p_user_id: dbUserId })
  .single()
```

**–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é:**
```
‚úÖ –ü—Ä–∏–µ–º –ø–∏—â–∏ –∑–∞–ø–∏—Å–∞–Ω!
üìù –û–≤—Å—è–Ω–∫–∞ —Å –±–∞–Ω–∞–Ω–æ–º
üî• 320 –∫–∫–∞–ª | –ë: 12–≥ | –ñ: 5–≥ | –£: 58–≥
‚è∞ 08:30

üî• Streak: 7 –¥–Ω–µ–π! üéâ –ù–æ–≤—ã–π —Ä–µ–∫–æ—Ä–¥!

üèÜ –ù–æ–≤—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è:
ü•à –°–µ—Ä–µ–±—Ä—è–Ω—ã–π –±–µ–π–¥–∂

üí° –°–æ–≤–µ—Ç: –í —Å–ª–µ–¥—É—é—â–∏–π —Ä–∞–∑ –º–æ–∂–µ—à—å –ø—Ä–æ—Å—Ç–æ üì∏ —Å—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—Ä–æ–≤–∞—Ç—å –µ–¥—É!
```

#### –ú–µ—Å—Ç–æ 2: –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–æ—Ç–æ (—Å—Ç—Ä–æ–∫–∞ ~1556)
–ê–Ω–∞–ª–æ–≥–∏—á–Ω–∞—è –ª–æ–≥–∏–∫–∞ –¥–ª—è —Ñ–æ—Ç–æ –µ–¥—ã.

#### –ú–µ—Å—Ç–æ 3: –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Å—Ç—Ä–æ–∫–∞ ~3861)
–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–ª–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É streak:
```
üë§ –¢–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å

üìä –¢–≤–æ–π –ø–ª–∞–Ω –ö–ë–ñ–£:
üî• –ö–∞–ª–æ—Ä–∏–∏: 2000 –∫–∫–∞–ª
...

üî• –¢–≤–æ–π Streak:
‚Ä¢ –¢–µ–∫—É—â–∏–π: 7 –¥–Ω–µ–π
‚Ä¢ –†–µ–∫–æ—Ä–¥: 14 –¥–Ω–µ–π
‚Ä¢ –í—Å–µ–≥–æ –ª–æ–≥–æ–≤: 42

üèÜ –î–æ—Å—Ç–∏–∂–µ–Ω–∏–π: 3

‚ö†Ô∏è Streak –≤ –æ–ø–∞—Å–Ω–æ—Å—Ç–∏! –ù–µ –∑–∞–±—É–¥—å –∑–∞–ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å –µ–¥—É —Å–µ–≥–æ–¥–Ω—è!
```

---

## üéØ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –õ–æ–≥–∏–∫–∞ streak:
1. **–ü–µ—Ä–≤—ã–π –ª–æ–≥** ‚Üí streak = 1
2. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—á–µ—Ä–∞** ‚Üí streak = —Ç–µ–∫—É—â–∏–π + 1
3. **–ü—Ä–æ–ø—É—Å–∫ 1+ –¥–Ω–µ–π** ‚Üí streak = 1 (—Å–±—Ä–æ—Å)
4. **–ù–µ—Å–∫–æ–ª—å–∫–æ –ª–æ–≥–æ–≤ –∑–∞ –¥–µ–Ω—å** ‚Üí streak –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ 1 —Ä–∞–∑

### –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–¥–∞—é—Ç—Å—è –ø—Ä–∏:
- 3 –¥–Ω—è ‚Üí ü•â –ë—Ä–æ–Ω–∑–æ–≤—ã–π –±–µ–π–¥–∂
- 7 –¥–Ω–µ–π ‚Üí ü•à –°–µ—Ä–µ–±—Ä—è–Ω—ã–π –±–µ–π–¥–∂
- 14 –¥–Ω–µ–π ‚Üí ü•á –ó–æ–ª–æ—Ç–æ–π –±–µ–π–¥–∂
- 30 –¥–Ω–µ–π ‚Üí üíé Diamond –±–µ–π–¥–∂
- 100 –¥–Ω–µ–π ‚Üí üèÜ –õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π –±–µ–π–¥–∂

---

## üìù –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –¥–µ–ø–ª–æ—é

### –®–∞–≥ 1: –ü—Ä–∏–º–µ–Ω–∏—Ç—å SQL –º–∏–≥—Ä–∞—Ü–∏—é

**–ß–µ—Ä–µ–∑ Supabase Dashboard:**
1. –û—Ç–∫—Ä–æ–π SQL Editor
2. –°–∫–æ–ø–∏—Ä—É–π —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ `supabase/migration/add_streak_system.sql`
3. –í—ã–ø–æ–ª–Ω–∏ (Run)

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```sql
-- –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –ø–æ–ª—è –¥–æ–±–∞–≤–ª–µ–Ω—ã
SELECT current_streak, longest_streak, last_log_date, total_logs_count
FROM users
LIMIT 1;

-- –ü—Ä–æ–≤–µ—Ä—å —Ç–∞–±–ª–∏—Ü—É –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
SELECT * FROM user_achievements LIMIT 1;
```

### –®–∞–≥ 2: –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –∫–æ–¥ –±–æ—Ç–∞

**–ß–µ—Ä–µ–∑ Dashboard:**
1. –û—Ç–∫—Ä–æ–π Edge Functions
2. –ù–∞–π–¥–∏ `telegram-bot`
3. –û–±–Ω–æ–≤–∏ –∫–æ–¥ –∏–∑ `supabase/functions/telegram-bot/index.ts`
4. Deploy

---

## üîç –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ streak –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
–ó–∞–ª–æ–≥–∏—Ä—É–π –µ–¥—É –∏ –ø—Ä–æ–≤–µ—Ä—å, —á—Ç–æ streak –æ–±–Ω–æ–≤–∏–ª—Å—è:

**–í –ª–æ–≥–∞—Ö:**
```
‚úÖ Streak updated for user 42: {current_streak: 1, longest_streak: 1, ...}
```

**–í –æ—Ç–≤–µ—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é:**
```
üî• Streak: 1 –¥–µ–Ω—å!
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
–ó–∞–ª–æ–≥–∏—Ä—É–π –µ–¥—É 3 –¥–Ω—è –ø–æ–¥—Ä—è–¥:

**–î–µ–Ω—å 1:**
```
üî• Streak: 1 –¥–µ–Ω—å!
```

**–î–µ–Ω—å 2:**
```
üî• Streak: 2 –¥–Ω—è!
```

**–î–µ–Ω—å 3:**
```
üî• Streak: 3 –¥–Ω—è!

üèÜ –ù–æ–≤—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è:
ü•â –ë—Ä–æ–Ω–∑–æ–≤—ã–π –±–µ–π–¥–∂
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è
–û—Ç–∫—Ä–æ–π "–ü—Ä–æ—Ñ–∏–ª—å" ‚Üí –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å–µ–∫—Ü–∏—è "–¢–≤–æ–π Streak"

### 4. SQL –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

```sql
-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
SELECT * FROM get_user_streak_stats(42);

-- –¢–æ–ø –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
SELECT * FROM streak_leaderboard LIMIT 10;

-- –í—Å–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
SELECT * FROM user_achievements WHERE user_id = 42;
```

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏:

```sql
-- –°—Ä–µ–¥–Ω–∏–π streak –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
SELECT AVG(current_streak) as avg_streak
FROM users
WHERE current_streak > 0;

-- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ streaks
SELECT
  CASE
    WHEN current_streak = 0 THEN '0 (–Ω–µ –Ω–∞—á–∞—Ç)'
    WHEN current_streak BETWEEN 1 AND 2 THEN '1-2 –¥–Ω—è'
    WHEN current_streak BETWEEN 3 AND 6 THEN '3-6 –¥–Ω–µ–π'
    WHEN current_streak BETWEEN 7 AND 13 THEN '7-13 –¥–Ω–µ–π'
    WHEN current_streak BETWEEN 14 AND 29 THEN '14-29 –¥–Ω–µ–π'
    ELSE '30+ –¥–Ω–µ–π'
  END as streak_range,
  COUNT(*) as users_count
FROM users
GROUP BY streak_range
ORDER BY MIN(current_streak);

-- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤ –æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (streak > 0, –Ω–æ –Ω–µ –ª–æ–≥–∏—Ä–æ–≤–∞–ª–∏ —Å–µ–≥–æ–¥–Ω—è)
SELECT COUNT(*)
FROM users
WHERE current_streak > 0
  AND last_log_date < CURRENT_DATE;

-- –°–∞–º—ã–µ –∞–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
SELECT
  first_name,
  username,
  current_streak,
  longest_streak,
  total_logs_count
FROM users
WHERE total_logs_count > 0
ORDER BY current_streak DESC
LIMIT 20;

-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è–º
SELECT
  achievement_type,
  achievement_name,
  COUNT(*) as users_earned
FROM user_achievements
GROUP BY achievement_type, achievement_name
ORDER BY users_earned DESC;
```

---

## üí° –î–∞–ª—å–Ω–µ–π—à–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

### –ü–ª–∞–Ω—ã –Ω–∞ –±—É–¥—É—â–µ–µ:

1. **Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ —Ä–∏—Å–∫–µ –ø–æ—Ç–µ—Ä–∏ streak**
   - –û—Ç–ø—Ä–∞–≤–ª—è—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –≤ 20:00 –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –ª–æ–≥–∏—Ä–æ–≤–∞–ª —Å–µ–≥–æ–¥–Ω—è
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å `notification-scheduler`

2. **–õ–∏–¥–µ—Ä–±–æ—Ä–¥ –≤ –±–æ—Ç–µ**
   - –ö–æ–º–∞–Ω–¥–∞ `/leaderboard` –∏–ª–∏ –∫–Ω–æ–ø–∫–∞
   - –ü–æ–∫–∞–∑–∞—Ç—å —Ç–æ–ø-10 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

3. **–ë–æ–ª—å—à–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π:**
   - "–†–∞–Ω–Ω—è—è –ø—Ç–∞—à–∫–∞" - –∑–∞–ª–æ–≥–∏—Ä–æ–≤–∞–ª –∑–∞–≤—Ç—Ä–∞–∫ –¥–æ 9:00
   - "–¢–æ—á–Ω–æ—Å—Ç—å" - 10 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥ –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –ø–ª–∞–Ω–∞ –ö–ë–ñ–£ ¬±100 –∫–∫–∞–ª
   - "–§–æ—Ç–æ–≥—Ä–∞—Ñ" - 10 —Ñ–æ—Ç–æ-–ª–æ–≥–æ–≤ –ø–æ–¥—Ä—è–¥
   - "–í–æ–¥–æ—Ö–ª—ë–±" - –≤—ã–ø–∏–ª –Ω–æ—Ä–º—É –≤–æ–¥—ã 7 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥

4. **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è streak:**
   - –ö–∞–ª–µ–Ω–¥–∞—Ä—å —Å –æ—Ç–º–µ—Ç–∫–∞–º–∏ –¥–Ω–µ–π
   - –ì—Ä–∞—Ñ–∏–∫ —Ä–æ—Å—Ç–∞ streak
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Chart.js ‚Üí PNG

5. **Freeze streak (–∑–∞–º–æ—Ä–æ–∑–∫–∞):**
   - 1 –∑–∞–º–æ—Ä–æ–∑–∫–∞ –Ω–∞ 10 –¥–Ω–µ–π streak
   - –ú–æ–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å 1 –¥–µ–Ω—å –±–µ–∑ —Å–±—Ä–æ—Å–∞

---

## üéâ –û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç

### Retention:
- **+50%** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –¥–µ–Ω—å
- **+30%** –Ω–µ–¥–µ–ª—å–Ω—ã–π retention (D7)
- **+20%** –º–µ—Å—è—á–Ω—ã–π retention (D30)

### Engagement:
- **+40%** daily active users
- **+35%** average session time
- **+25%** logs per user per week

### –ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è:
- **+15%** trial ‚Üí paid conversion
- –ë–æ–ª–µ–µ –≤–æ–≤–ª–µ—á–µ–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ = –±–æ–ª—å—à–µ –≤–∏–¥—è—Ç —Ü–µ–Ω–Ω–æ—Å—Ç—å

---

## üêõ Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: Streak –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```sql
-- –ï—Å—Ç—å –ª–∏ —Ñ—É–Ω–∫—Ü–∏—è?
SELECT routine_name FROM information_schema.routines
WHERE routine_name = 'update_user_streak';
```

**–†–µ—à–µ–Ω–∏–µ:** –ü–µ—Ä–µ-–∑–∞–ø—É—Å—Ç–∏ –º–∏–≥—Ä–∞—Ü–∏—é

---

### –ü—Ä–æ–±–ª–µ–º–∞: –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –¥—É–±–ª–∏—Ä—É—é—Ç—Å—è

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```sql
-- –ï—Å—Ç—å –ª–∏ UNIQUE constraint?
SELECT constraint_name FROM information_schema.table_constraints
WHERE table_name = 'user_achievements'
  AND constraint_type = 'UNIQUE';
```

**–†–µ—à–µ–Ω–∏–µ:** –í –º–∏–≥—Ä–∞—Ü–∏–∏ –µ—Å—Ç—å `UNIQUE(user_id, achievement_type)` - –ø—Ä–æ–≤–µ—Ä—å —á—Ç–æ –ø—Ä–∏–º–µ–Ω–∏–ª–æ—Å—å

---

### –ü—Ä–æ–±–ª–µ–º–∞: Streak —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**–î–µ–±–∞–≥:**
```sql
SELECT
  id,
  current_streak,
  last_log_date,
  CURRENT_DATE as today,
  EXTRACT(DAY FROM (CURRENT_DATE - last_log_date)) as days_since
FROM users
WHERE id = 42;
```

–ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏–∫—É –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `update_user_streak`.

---

**–ì–æ—Ç–æ–≤–æ! Streak —Å–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞! üî•**
