# üåê –í–µ–±-–∞–¥–º–∏–Ω–∫–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å–∫–∞–º–∏

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏ –ø–∞—Ä–æ–ª—å –¥–ª—è –∞–¥–º–∏–Ω–∫–∏
```bash
supabase secrets set ADMIN_PASSWORD="—Ç–≤–æ–π_—Å–µ–∫—Ä–µ—Ç–Ω—ã–π_–ø–∞—Ä–æ–ª—å_123"
```

### 2. Deploy –∞–¥–º–∏–Ω–∫—É
```bash
supabase functions deploy admin-panel --no-verify-jwt
```

### 3. –û—Ç–∫—Ä–æ–π –≤ –±—Ä–∞—É–∑–µ—Ä–µ
```
https://itlqgwevcuoysdmuttwy.supabase.co/functions/v1/admin-panel
```

–í–≤–µ–¥–∏ –ø–∞—Ä–æ–ª—å –∫–æ—Ç–æ—Ä—ã–π —É—Å—Ç–∞–Ω–æ–≤–∏–ª –≤ —à–∞–≥–µ 1.

---

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üìä –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ–¥–ø–∏—Å–æ–∫:
- **–í—Å–µ –ø–æ–¥–ø–∏—Å–∫–∏** - –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–§–∏–ª—å—Ç—Ä—ã** - –ê–∫—Ç–∏–≤–Ω—ã–µ, –¢—Ä–∏–∞–ª—ã, –ò—Å—Ç–µ–∫—à–∏–µ, –ë–µ–∑–ª–∏–º–∏—Ç
- **–ü–æ–∏—Å–∫** - –ø–æ username –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- **–ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ** - –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥

### üéõÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:
- **+30–¥** - –ü—Ä–æ–¥–ª–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É –Ω–∞ 30 –¥–Ω–µ–π (–º–æ–∂–Ω–æ –≤–≤–µ—Å—Ç–∏ –ª—é–±–æ–µ —á–∏—Å–ª–æ)
- **‚àû** - –î–∞—Ç—å –±–µ–∑–ª–∏–º–∏—Ç–Ω—É—é –ø–æ–¥–ø–∏—Å–∫—É
- **–ü–ª–∞–Ω** - –ò–∑–º–µ–Ω–∏—Ç—å –ø–ª–∞–Ω (monthly, quarterly, yearly)
- **Trial** - –°–±—Ä–æ—Å–∏—Ç—å —Ç—Ä–∏–∞–ª (–Ω–æ–≤—ã–π 7-–¥–Ω–µ–≤–Ω—ã–π –ø–µ—Ä–∏–æ–¥)
- **üîí** - –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### üìà –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:
- User ID –∏ Telegram username
- –¢–µ–∫—É—â–∏–π –ø–ª–∞–Ω –ø–æ–¥–ø–∏—Å–∫–∏
- –°—Ç–∞—Ç—É—Å —Å —ç–º–æ–¥–∑–∏
- –î–Ω–µ–π –æ—Å—Ç–∞–ª–æ—Å—å
- –°—É–º–º–∞ –æ–ø–ª–∞—Ç

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å:
```bash
supabase secrets set ADMIN_PASSWORD="–Ω–æ–≤—ã–π_–ø–∞—Ä–æ–ª—å"
```

### –í–∞–∂–Ω–æ:
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å `SUPABASE_SERVICE_ROLE_KEY` (–ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø)
- ‚úÖ –ó–∞—â–∏—â–µ–Ω–æ –ø–∞—Ä–æ–ª–µ–º
- ‚úÖ –ù–µ –¥–æ—Å—Ç—É–ø–Ω–æ —á–µ—Ä–µ–∑ PostgREST (—Ç–æ–ª—å–∫–æ Edge Function)
- ‚ö†Ô∏è –ù–µ –¥–∞–≤–∞–π —Å—Å—ã–ª–∫—É —Å –ø–∞—Ä–æ–ª–µ–º –ø–æ—Å—Ç–æ—Ä–æ–Ω–Ω–∏–º!

---

## üì± –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –û—Å–Ω–æ–≤–Ω–æ–π workflow:

1. **–û—Ç–∫—Ä–æ–π –∞–¥–º–∏–Ω–∫—É** –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. **–í–≤–µ–¥–∏ –ø–∞—Ä–æ–ª—å**
3. **–ù–∞–π–¥–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** —á–µ—Ä–µ–∑ –ø–æ–∏—Å–∫ –∏–ª–∏ —Ñ–∏–ª—å—Ç—Ä—ã
4. **–í—ã–ø–æ–ª–Ω–∏ –¥–µ–π—Å—Ç–≤–∏–µ** - –∫–ª–∏–∫–Ω–∏ –Ω–∞ –Ω—É–∂–Ω—É—é –∫–Ω–æ–ø–∫—É
5. **–ì–æ—Ç–æ–≤–æ!** - –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω—è—Ç—Å—è –º–æ–º–µ–Ω—Ç–∞–ª—å–Ω–æ

### –ü—Ä–∏–º–µ—Ä—ã:

**–î–∞—Ç—å –±–µ–∑–ª–∏–º–∏—Ç –¥—Ä—É–≥—É:**
1. –ù–∞–π–¥–∏ –µ–≥–æ —á–µ—Ä–µ–∑ –ø–æ–∏—Å–∫ –ø–æ username
2. –ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É **‚àû**
3. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏ –¥–µ–π—Å—Ç–≤–∏–µ
4. ‚úÖ –ì–æ—Ç–æ–≤–æ!

**–ü—Ä–æ–¥–ª–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É –∫–ª–∏–µ–Ω—Ç—É:**
1. –ù–∞–π–¥–∏ –µ–≥–æ —á–µ—Ä–µ–∑ –ø–æ–∏—Å–∫
2. –ù–∞–∂–º–∏ **+30–¥**
3. –í–≤–µ–¥–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, 90)
4. ‚úÖ –ü–æ–¥–ø–∏—Å–∫–∞ –ø—Ä–æ–¥–ª–µ–Ω–∞!

**–ò–∑–º–µ–Ω–∏—Ç—å –ø–ª–∞–Ω:**
1. –ù–∞–π–¥–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. –ù–∞–∂–º–∏ **–ü–ª–∞–Ω**
3. –í–≤–µ–¥–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–ª–∞–Ω–∞: `yearly`, `monthly`, `quarterly`
4. ‚úÖ –ü–ª–∞–Ω –∏–∑–º–µ–Ω–µ–Ω!

---

## üé® –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞:
- **–ó–µ–ª–µ–Ω—ã–π (+30–¥)** - –ü—Ä–æ–¥–ª–µ–Ω–∏–µ
- **–û—Ä–∞–Ω–∂–µ–≤—ã–π (‚àû)** - –ë–µ–∑–ª–∏–º–∏—Ç
- **–°–∏–Ω–∏–π (–ü–ª–∞–Ω)** - –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–ª–∞–Ω–∞
- **–§–∏–æ–ª–µ—Ç–æ–≤—ã–π (Trial)** - –¢—Ä–∏–∞–ª
- **–ö—Ä–∞—Å–Ω—ã–π (üîí)** - –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞

### –°—Ç–∞—Ç—É—Å—ã:
- ‚úÖ **Active** - –ê–∫—Ç–∏–≤–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞
- üéÅ **Trial** - –¢—Ä–∏–∞–ª—å–Ω—ã–π –ø–µ—Ä–∏–æ–¥
- üîí **Expired** - –ò—Å—Ç–µ–∫—à–∞—è –ø–æ–¥–ø–∏—Å–∫–∞
- ‚ú® **Unlimited** - –ë–µ–∑–ª–∏–º–∏—Ç

---

## üîß –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è

### –ò–∑–º–µ–Ω–∏—Ç—å —Ü–≤–µ—Ç–∞ –∏ —Å—Ç–∏–ª–∏:
–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π —Ñ–∞–π–ª:
```
supabase/functions/admin-panel/index.ts
```

–í —Å–µ–∫—Ü–∏–∏ `<style>` –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å:
- –¶–≤–µ—Ç–∞ –∫–Ω–æ–ø–æ–∫
- –†–∞–∑–º–µ—Ä—ã —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- –®—Ä–∏—Ñ—Ç—ã
- –ì—Ä–∞–¥–∏–µ–Ω—Ç—ã

### –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:
1. –î–æ–±–∞–≤—å –∫–Ω–æ–ø–∫—É –≤ HTML
2. –î–æ–±–∞–≤—å —Ñ—É–Ω–∫—Ü–∏—é –≤ JavaScript
3. –î–æ–±–∞–≤—å case –≤ `handleApiAction`
4. Deploy –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

---

## ‚ö° –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã

### Deploy —Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º:
```bash
supabase functions deploy admin-panel --no-verify-jwt
```

### –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏:
```bash
supabase functions logs admin-panel --tail
```

### –ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å:
```bash
supabase secrets set ADMIN_PASSWORD="–Ω–æ–≤—ã–π_–ø–∞—Ä–æ–ª—å"
```

---

## üÜò –ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã

**Q: –ó–∞–±—ã–ª –ø–∞—Ä–æ–ª—å, –∫–∞–∫ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å?**
```bash
supabase secrets set ADMIN_PASSWORD="–Ω–æ–≤—ã–π_–ø–∞—Ä–æ–ª—å"
```

**Q: –ú–æ–∂–Ω–æ –ª–∏ –æ—Ç–∫—Ä—ã—Ç—å –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ?**
‚úÖ –î–∞! –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π, —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö.

**Q: –ö–∞–∫ –¥–∞—Ç—å –¥–æ—Å—Ç—É–ø –¥—Ä—É–≥–æ–º—É –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É?**
–ü—Ä–æ—Å—Ç–æ –æ—Ç–ø—Ä–∞–≤—å –µ–º—É —Å—Å—ã–ª–∫—É —Å –ø–∞—Ä–æ–ª–µ–º:
```
https://itlqgwevcuoysdmuttwy.supabase.co/functions/v1/admin-panel?password=—Ç–≤–æ–π_–ø–∞—Ä–æ–ª—å
```

**Q: –ë–µ–∑–æ–ø–∞—Å–Ω–æ –ª–∏ —ç—Ç–æ?**
‚úÖ –î–∞, –ø—Ä–∏ —É—Å–ª–æ–≤–∏–∏ —á—Ç–æ:
- –ò—Å–ø–æ–ª—å–∑—É–µ—à—å —Å–∏–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å
- –ù–µ —Å–≤–µ—Ç–∏—à—å —Å—Å—ã–ª–∫—É –ø—É–±–ª–∏—á–Ω–æ
- –ò—Å–ø–æ–ª—å–∑—É–µ—à—å HTTPS (—ç—Ç–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

**Q: –ú–æ–∂–Ω–æ –ª–∏ —Å–¥–µ–ª–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–æ–≤ —Å —Ä–∞–∑–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏?**
–î–∞, –Ω–æ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞. –°–µ–π—á–∞—Å –≤—Å–µ –∞–¥–º–∏–Ω—ã –∏–º–µ—é—Ç –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø.

---

## üéØ –î–∞–ª—å–Ω–µ–π—à–∏–µ —É–ª—É—á—à–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –ß—Ç–æ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:
- üìä –ì—Ä–∞—Ñ–∏–∫–∏ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
- üìß Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
- üìù –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
- üë• –ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π –¥–æ—Å—Ç—É–ø (–∞–¥–º–∏–Ω/–º–æ–¥–µ—Ä–∞—Ç–æ—Ä)
- üîî Push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –∏—Å—Ç–µ–∫–∞—é—â–∏—Ö –ø–æ–¥–ø–∏—Å–∫–∞—Ö
- üí¨ –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –ø—Ä—è–º–æ –∏–∑ –∞–¥–º–∏–Ω–∫–∏

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏: `supabase functions logs admin-panel --tail`
2. –£–±–µ–¥–∏—Å—å —á—Ç–æ SQL –º–∏–≥—Ä–∞—Ü–∏—è `admin_subscription_management.sql` –ø—Ä–∏–º–µ–Ω–µ–Ω–∞
3. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –ø–∞—Ä–æ–ª—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω: `supabase secrets list`

---

**–ì–æ—Ç–æ–≤–æ! –¢–µ–ø–µ—Ä—å —É —Ç–µ–±—è –∫—Ä–∞—Å–∏–≤–∞—è –≤–µ–±-–∞–¥–º–∏–Ω–∫–∞!** üéâüí™



